---
import "../../../styles/additional/ObliqueBook.scss"

const { title, author, link } = Astro.props;
---

<div class="3d-book">
  <div class="book">
    <div class="page cover-front page-1" onclick="movePage(this, 1)">
      <h6>1</h6>
      <h1>{ title }</h1>
      <div class="hat"><i class="fab fa-pied-piper-hat"></i></div>
      <h2>{ author }</h2>
    </div>
    <div class="page cover-front page-2" onclick="movePage(this, 2)">
      <h6>2</h6>
    </div>
    <div class="page text-page page-3" onclick="movePage(this, 3)">
      <h6>3</h6>
      <p>Mrs. Dalloway said she would buy the flowers herself.</p>
    </div>
    <div class="page text-page page-4" onclick="movePage(this, 4)">
      <h6>4</h6>
      <p>vanished--how strange it was!--a few sayings like this about cabbages.</p>
    </div>
    <div class="page text-page page-5" onclick="movePage(this, 5)">
      <h6>5</h6>
      <p>vanished--how strange it was!--a few sayings like this about cabbages.</p>
    </div>
    <div class="page text-page page-6" onclick="movePage(this, 6)">
      <h6>6</h6>
      <p>"I love walking in London," said Mrs. Dalloway. "Really it's better than walking in the country."</p>
    </div>
    <div class="page text-page page-7" onclick="movePage(this, 7)">
      <h6>7</h6>
    </div>
    <div class="page text-page page-8" onclick="movePage(this, 8)">
      <h6>8</h6>
    </div>
    <div class="page text-page page-9" onclick="movePage(this, 9)">
      <h6>9</h6>
    </div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>
    <div class="page"></div>

  </div>
  <a href={ link } style="color: red; margin-left: 15%;">Go back</a>
</div>


<script lang="ts">
  let currentPage = 1;

  function toggleClass(e, toggleClassName) {
    if(e.className.includes(toggleClassName)) {
      e.className = e.className.replace(' ' + toggleClassName, '');
    } else {
      e.className += ' ' + toggleClassName;
    }
  }

  function movePage(e, page) {
    if (page == currentPage) {
      currentPage+=2;
      toggleClass(e, "left-side");
      toggleClass(e.nextElementSibling, "left-side");

    }
    else if (page = currentPage - 1) {
      currentPage-=2;
      toggleClass(e, "left-side");
      toggleClass(e.previousElementSibling, "left-side");
    }

  }
</script>


